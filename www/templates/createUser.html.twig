<!doctype html>
<html lang="en">
	{% include "partial/head.html.twig" %}
	<body>
		{% include "partial/navigation.html.twig" %}
		<div class="container">
			<h1 class="text-center mb-5">Create New User</h1>
			<form id="createUser" method="post" action="createUser.php" enctype="multipart/form-data">
				<div class="row mb-3">
					<div class="col">
						<label for="firstName" class="form-label">First name *</label>
						<input type="text" class="form-control" name="firstName" id="firstName" aria-label="First name" placeholder="John" required>
					</div>
					<div class="col">
						<label for="lastName" class="form-label">Last name *</label>
						<input type="text" class="form-control" name="lastName" id="lastName" aria-label="Last name" placeholder="Doe" required>
					</div>
				</div>
				<div class="mb-3">
					<label for="userName" class="form-label">User name *</label>
					<input type="text" class="form-control" name="userName" id="userName" placeholder="enter user name here..." required>
				</div>
				<div class="mb-3">
					<label for="email" class="form-label">Email address *</label>
					<input type="email" class="form-control" name="email" id="email" aria-describedby="emailHelp" placeholder="example@gmail.com" required>
				</div>
				<div class="mb-3">
					<label for="password" class="form-label">Password *</label>
					<input type="password" class="form-control" name="password" id="password" placeholder="minimum 8 characters" required>
				</div>
				<div class="mb-3">
					<label for="contactNumber" class="form-label">Contact number *</label>
					<input type="text" class="form-control" name="contactNumber" id="contactNumber" placeholder="0478895252" required>
				</div>

				{% if user_level == 1 %}

					<div class="mb-3">
						<label for="profession" class="form-label">Profession *</label>
						<input type="text" class="form-control" name="profession" id="profession" placeholder="doctor, nurse, pharmacist..." required>
					</div>

					<div class="mb-3">
						<label for="userLevel" class="form-label">User level *</label>
						<input type="text" class="form-control" name="userLevel" id="userLevel" value="2" readonly>
					</div>

					<div class="mb-3">
						<label for="institutionName" class="form-label">Institution name *</label>
						<input type="text" class="form-control" name="institutionName" id="institutionName" value="{{user_ins_name}}" readonly>
					</div>

					<div class="mb-3">
						<label for="institutionAddress" class="form-label">Institution address *</label>
						<input type="text" class="form-control" name="institutionAddress" id="institutionAddress" value="{{user_ins_add}}" readonly>
					</div>

				{% elseif user_level == 3 %}

					<div class="mb-3">
						<label for="profession" class="form-label">Profession *</label>
						<input type="text" class="form-control" name="profession" id="profession" value="admin" readonly>
					</div>

					<div class="mb-3">
						<label for="userLevel" class="form-label">User level *</label>
						<input type="text" class="form-control" name="userLevel" id="userLevel" value="1" readonly>
					</div>

					<div class="mb-3">
						<label for="institutionName" class="form-label">Institution name *</label>
						<input type="text" class="form-control" name="institutionName" id="institutionName" placeholder="enter institution name here..." required>
					</div>

					<div class="mb-3">
						<label for="institutionAddress" class="form-label">Institution address *</label>
						<input type="text" class="form-control" name="institutionAddress" id="institutionAddress" placeholder="enter institution address here..." required>
					</div>

				{% endif %}

				<div class="mb-3">
					<label for="formFile" class="form-label">Choose your profile picture *</label>
					<input class="form-control" type="file" name="formFile" id="formFile" onchange="fileValidation()">
				</div>

				{% set outcome = result.errors | join(", ") %}
				<button type="submit" class="btn btn-primary mt-3">Create</button>
				<a href="userdashboard.php">
					<div class="btn btn-secondary ml-3 mt-3">Cancel</div>
				</a>

				{% if outcome | length > 0 %}
					<div class="alert alert-warning alert-dismissible fade show" role="alert">
						{{ outcome }}
						<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
					</div>
				{% endif %}
			</form>
		</body>
	</body>
</html></div>{% include "partial/footer.html.twig" %}{% include "partial/script.html.twig" %}</body></html></body></html>
